ğŸ§© PART 1: Customer record (Data + Validation)
public record Customer(


ğŸ‘‰ record is a special Java class used to store data.
ğŸ‘‰ It automatically creates:

constructor

getters

toString(), equals(), hashCode()

int custId,


ğŸ‘‰ Stores customer ID

String customerName,


ğŸ‘‰ Stores customer name

String pickupLocation,


ğŸ‘‰ Stores pickup location

String dropLocation,


ğŸ‘‰ Stores drop location

int distance,


ğŸ‘‰ Stores travel distance in kilometers

String phone


ğŸ‘‰ Stores customer phone number

) {


ğŸ‘‰ Starts the body of the record

ğŸ” Compact Constructor (Validation Section)
public Customer {


ğŸ‘‰ This is called a compact constructor
ğŸ‘‰ It runs automatically when object is created

if (custId <= 0)


ğŸ‘‰ Checks if customer ID is invalid

throw new IllegalArgumentException("Validation Error: Customer ID must be positive.");


ğŸ‘‰ Stops program and shows error message

if (customerName == null || customerName.isBlank())


ğŸ‘‰ Checks if name is empty or null

throw new IllegalArgumentException("Validation Error: Customer name cannot be null or blank.");


ğŸ‘‰ Throws error if name is invalid

if (pickupLocation == null || pickupLocation.isBlank())


ğŸ‘‰ Validates pickup location

throw new IllegalArgumentException("Validation Error: Pickup location cannot be null or blank.");

if (dropLocation == null || dropLocation.isBlank())


ğŸ‘‰ Validates drop location

throw new IllegalArgumentException("Validation Error: Drop location cannot be null or blank.");

if (distance < 0)


ğŸ‘‰ Checks for negative distance

throw new IllegalArgumentException("Validation Error: Distance cannot be negative.");

if (phone == null || !phone.matches("\\d{10}"))


ğŸ‘‰ Ensures phone number has exactly 10 digits

throw new IllegalArgumentException("Validation Error: Phone number must be 10 digits only.");

}
}


ğŸ‘‰ Ends constructor and record

ğŸ§© PART 2: CustomerService (Business Logic Class)
import java.util.ArrayList;


ğŸ‘‰ Imports ArrayList class

public class CustomerService {


ğŸ‘‰ Starts BLC class

private ArrayList<Customer> customers;


ğŸ‘‰ Non-static field
ğŸ‘‰ Stores all customer objects
ğŸ‘‰ private = cannot be accessed directly outside class

public CustomerService() {


ğŸ‘‰ No-argument constructor

customers = new ArrayList<>();


ğŸ‘‰ Initializes ArrayList (memory creation)

}


ğŸ‘‰ Constructor ends

â• Method 1: Add Customer
public void addCustomer(Customer customer) {


ğŸ‘‰ Method to add customer to list

customers.add(customer);


ğŸ‘‰ Adds customer object into ArrayList

}

ğŸ” Method 2: Check First-Time Customer
private boolean isFirstCustomer(Customer customer) {


ğŸ‘‰ Helper method (private)

for (Customer c : customers) {


ğŸ‘‰ Loops through customer list

if (c.phone().equals(customer.phone())) {


ğŸ‘‰ Compares phone numbers

return false;


ğŸ‘‰ Phone exists â†’ old customer

}

return true;


ğŸ‘‰ Phone not found â†’ new customer

}

ğŸ’° Method 3: Calculate Bill
public double calculateBill(Customer customer) {


ğŸ‘‰ Calculates bill amount

boolean isNewCustomer = isFirstCustomer(customer);


ğŸ‘‰ Calls helper method

if (isNewCustomer) {
    return 0.0;
}


ğŸ‘‰ First ride â†’ free

int distance = customer.distance();


ğŸ‘‰ Gets travel distance

if (distance <= 4) {
    return 80.0;
}


ğŸ‘‰ Fixed charge

else {
    return 80 + (distance - 4) * 6;
}


ğŸ‘‰ Extra charge calculation

}

ğŸ–¨ï¸ Print Bill Method
public void printBill(Customer customer) {


ğŸ‘‰ Prints bill

double bill = calculateBill(customer);


ğŸ‘‰ Gets bill amount

System.out.println(customer.customerName().toUpperCase()
        + " Please pay your bill of Rs." + bill);


ğŸ‘‰ Prints output format

}
}

ğŸ§© PART 3: ELC â€“ CabCustomerServiceTester
public class CabCustomerServiceTester {


ğŸ‘‰ Execution class

public static void main(String[] args) {


ğŸ‘‰ Program starts here

CustomerService service = new CustomerService();


ğŸ‘‰ Creates service object

Customer c1 = new Customer(1, "John", "Ameerpet", "Madhapur", 5, "9876543210");


ğŸ‘‰ First customer object

service.printBill(c1);
service.addCustomer(c1);


ğŸ‘‰ Print bill â†’ add to list

Customer c2 = new Customer(2, "Smith", "KPHB", "Gachibowli", 3, "9123456789");


ğŸ‘‰ Second customer

service.printBill(c2);
service.addCustomer(c2);

Customer c3 = new Customer(3, "John", "Ameerpet", "Banjara Hills", 6, "9876543210");


ğŸ‘‰ Same phone â†’ old customer

service.printBill(c3);


ğŸ‘‰ Paid ride

}
}


ğŸ‘‰ Program ends

ğŸ¯ Final Simple Summary

Record â†’ stores customer data

Compact constructor â†’ validation

ArrayList â†’ stores customers

Phone â†’ identifies new/old customer

First ride â†’ free

Billing logic â†’ applied correctly
